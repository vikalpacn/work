<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Summary"><meta name="keywords" content="rust, rustlang, rust-lang, encode_register_validator_config_script"><title>encode_register_validator_config_script in diem_transaction_builder::stdlib - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-6827029ac823cab7.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-ebce58d0a40c3431.css"><link rel="stylesheet" disabled href="../../static.files/dark-f23faae4a2daf9a6.css"><link rel="stylesheet" disabled href="../../static.files/ayu-8af5e100b21cd173.css"><script id="default-settings" ></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-c55e1eb52e1886b4.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../diem_transaction_builder/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../diem_transaction_builder/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><div class="sidebar-elems"><h2><a href="index.html">In diem_transaction_builder::stdlib</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Function <a href="../index.html">diem_transaction_builder</a>::<wbr><a href="index.html">stdlib</a>::<wbr><a class="fn" href="#">encode_register_validator_config_script</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/diem_transaction_builder/stdlib.rs.html#6948-6964">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="item-decl"><pre class="rust fn"><code>pub fn encode_register_validator_config_script(<br>&nbsp;&nbsp;&nbsp;&nbsp;validator_account: AccountAddress,<br>&nbsp;&nbsp;&nbsp;&nbsp;consensus_pubkey: <a class="struct" href="https://doc.rust-lang.org/1.67.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.67.0/std/primitive.u8.html">u8</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;validator_network_addresses: <a class="struct" href="https://doc.rust-lang.org/1.67.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.67.0/std/primitive.u8.html">u8</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;fullnode_network_addresses: <a class="struct" href="https://doc.rust-lang.org/1.67.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.67.0/std/primitive.u8.html">u8</a>&gt;<br>) -&gt; Script</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="summary"><a href="#summary">Summary</a></h2>
<p>Updates a validator’s configuration. This does not reconfigure the system and will not update
the configuration in the validator set that is seen by other validators in the network. Can
only be successfully sent by a Validator Operator account that is already registered with a
validator.</p>
<h2 id="technical-description"><a href="#technical-description">Technical Description</a></h2>
<p>This updates the fields with corresponding names held in the <code>ValidatorConfig::ValidatorConfig</code>
config resource held under <code>validator_account</code>. It does not emit a <code>DiemConfig::NewEpochEvent</code>
so the copy of this config held in the validator set will not be updated, and the changes are
only “locally” under the <code>validator_account</code> account address.</p>
<h2 id="parameters"><a href="#parameters">Parameters</a></h2><div><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>validator_operator_account</code></td><td><code>&amp;signer</code></td><td>Signer reference of the sending account. Must be the registered validator operator for the validator at <code>validator_address</code>.</td></tr>
<tr><td><code>validator_account</code></td><td><code>address</code></td><td>The address of the validator’s <code>ValidatorConfig::ValidatorConfig</code> resource being updated.</td></tr>
<tr><td><code>consensus_pubkey</code></td><td><code>vector&lt;u8&gt;</code></td><td>New Ed25519 public key to be used in the updated <code>ValidatorConfig::ValidatorConfig</code>.</td></tr>
<tr><td><code>validator_network_addresses</code></td><td><code>vector&lt;u8&gt;</code></td><td>New set of <code>validator_network_addresses</code> to be used in the updated <code>ValidatorConfig::ValidatorConfig</code>.</td></tr>
<tr><td><code>fullnode_network_addresses</code></td><td><code>vector&lt;u8&gt;</code></td><td>New set of <code>fullnode_network_addresses</code> to be used in the updated <code>ValidatorConfig::ValidatorConfig</code>.</td></tr>
</tbody></table>
</div><h2 id="common-abort-conditions"><a href="#common-abort-conditions">Common Abort Conditions</a></h2><div><table><thead><tr><th>Error Category</th><th>Error Reason</th><th>Description</th></tr></thead><tbody>
<tr><td><code>Errors::NOT_PUBLISHED</code></td><td><code>ValidatorConfig::EVALIDATOR_CONFIG</code></td><td><code>validator_address</code> does not have a <code>ValidatorConfig::ValidatorConfig</code> resource published under it.</td></tr>
<tr><td><code>Errors::INVALID_ARGUMENT</code></td><td><code>ValidatorConfig::EINVALID_TRANSACTION_SENDER</code></td><td><code>validator_operator_account</code> is not the registered operator for the validator at <code>validator_address</code>.</td></tr>
<tr><td><code>Errors::INVALID_ARGUMENT</code></td><td><code>ValidatorConfig::EINVALID_CONSENSUS_KEY</code></td><td><code>consensus_pubkey</code> is not a valid ed25519 public key.</td></tr>
</tbody></table>
</div><h2 id="related-scripts"><a href="#related-scripts">Related Scripts</a></h2>
<ul>
<li><code>Script::create_validator_account</code></li>
<li><code>Script::create_validator_operator_account</code></li>
<li><code>Script::add_validator_and_reconfigure</code></li>
<li><code>Script::remove_validator_and_reconfigure</code></li>
<li><code>Script::set_validator_operator</code></li>
<li><code>Script::set_validator_operator_with_nonce_admin</code></li>
<li><code>Script::set_validator_config_and_reconfigure</code></li>
</ul>
</div></details></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="diem_transaction_builder" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.0 (fc594f156 2023-01-24)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>