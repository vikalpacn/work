<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `diem_secure_storage` crate."><meta name="keywords" content="rust, rustlang, rust-lang, diem_secure_storage"><title>diem_secure_storage - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-6827029ac823cab7.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-ebce58d0a40c3431.css"><link rel="stylesheet" disabled href="../static.files/dark-f23faae4a2daf9a6.css"><link rel="stylesheet" disabled href="../static.files/ayu-8af5e100b21cd173.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-c55e1eb52e1886b4.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../diem_secure_storage/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../diem_secure_storage/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">Crate diem_secure_storage</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.1.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Crate <a class="mod" href="#">diem_secure_storage</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/diem_secure_storage/lib.rs.html#4-52">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.GetResponse.html" title="diem_secure_storage::GetResponse struct">GetResponse</a></div><div class="item-right docblock-short">A container for a get response that contains relevant metadata and the value stored at the
given key.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.GitHubStorage.html" title="diem_secure_storage::GitHubStorage struct">GitHubStorage</a></div><div class="item-right docblock-short">GitHubStorage leverages a GitHub repository to provide a file system approach to key / value
storage.  This is not intended for storing private data but for organizing public data.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.InMemoryStorage.html" title="diem_secure_storage::InMemoryStorage struct">InMemoryStorage</a></div><div class="item-right docblock-short">InMemoryStorage represents a key value store that is purely in memory and intended for single
threads (or must be wrapped by a Arc&lt;RwLock&lt;&gt;&gt;). This provides no permission checks and simply
is a proof of concept to unblock building of applications without more complex data stores.
Internally, it retains all data, which means that it must make copies of all key material which
violates the Diem code base. It violates it because the anticipation is that data stores would
securely handle key material. This should not be used in production.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Namespaced.html" title="diem_secure_storage::Namespaced struct">Namespaced</a></div><div class="item-right docblock-short">This provides a light wrapper around KV storages to support a namespace. That namespace is
effectively prefixing all keys with then namespace value and “/” so a namespace of foo and a
key of bar becomes “foo/bar”. Without a namespace, the key would just be “bar”.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.OnDiskStorage.html" title="diem_secure_storage::OnDiskStorage struct">OnDiskStorage</a></div><div class="item-right docblock-short">OnDiskStorage represents a key value store that is persisted to the local filesystem and is
intended for single threads (or must be wrapped by a Arc&lt;RwLock&lt;&gt;&gt;). This provides no permission
checks and simply offers a proof of concept to unblock building of applications without more
complex data stores. Internally, it reads and writes all data to a file, which means that it
must make copies of all key material which violates the Diem code base. It violates it because
the anticipation is that data stores would securely handle key material. This should not be used
in production.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Permission.html" title="diem_secure_storage::Permission struct">Permission</a></div><div class="item-right docblock-short">Maps an identity to a set of capabilities</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Policy.html" title="diem_secure_storage::Policy struct">Policy</a></div><div class="item-right docblock-short">Dictates a set of permissions</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PublicKeyResponse.html" title="diem_secure_storage::PublicKeyResponse struct">PublicKeyResponse</a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.VaultStorage.html" title="diem_secure_storage::VaultStorage struct">VaultStorage</a></div><div class="item-right docblock-short">VaultStorage utilizes Vault for maintaining encrypted, authenticated data for Diem. This
version currently matches the behavior of OnDiskStorage and InMemoryStorage. In the future,
Vault will be able to create keys, sign messages, and handle permissions across different
services. The specific vault service leveraged herein is called KV (Key Value) Secrets Engine -
Version 2 (https://www.vaultproject.io/api/secret/kv/kv-v2.html). So while Diem Secure Storage
calls pointers to data keys, Vault has actually a secret that contains multiple key value
pairs.</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Capability.html" title="diem_secure_storage::Capability enum">Capability</a></div><div class="item-right docblock-short">Represents actions</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Error.html" title="diem_secure_storage::Error enum">Error</a></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Identity.html" title="diem_secure_storage::Identity enum">Identity</a></div><div class="item-right docblock-short">Id represents a Diem internal identifier for a given process. For example, safety_rules or
key_manager. It is up to the Storage and its deployment to translate these identifiers into
verifiable material. For example, the process running safety_rules may have a token that is
intended for only safety_rules to own. The specifics are left to the implementation of the
storage backend interface layer.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Storage.html" title="diem_secure_storage::Storage enum">Storage</a></div><div class="item-right docblock-short">This is the Diem interface into secure storage. Any storage engine implementing this trait
should support both key/value operations (e.g., get, set and create) and cryptographic key
operations (e.g., generate_key, sign and rotate_key).
This is a hack that allows us to convert from SecureBackend into a useable
T: Storage. This boilerplate can be 100% generated by a proc macro.</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.CryptoKVStorage.html" title="diem_secure_storage::CryptoKVStorage trait">CryptoKVStorage</a></div><div class="item-right docblock-short">CryptoKVStorage offers a CryptoStorage implementation by extending a key value store (KVStorage)
to create and manage cryptographic keys. This is useful for providing a simple CryptoStorage
implementation based upon an existing KVStorage engine (e.g. for test purposes).</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.CryptoStorage.html" title="diem_secure_storage::CryptoStorage trait">CryptoStorage</a></div><div class="item-right docblock-short">CryptoStorage provides an abstraction for secure generation and handling of cryptographic keys.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.KVStorage.html" title="diem_secure_storage::KVStorage trait">KVStorage</a></div><div class="item-right docblock-short">A secure key/value storage engine. Create takes a policy that is enforced internally by the
actual backend. The policy contains public identities that the backend can translate into a
unique and private token for another service. Hence get and set internally will pass the
current service private token to the backend to gain its permissions.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.from_base64.html" title="diem_secure_storage::from_base64 fn">from_base64</a></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.to_base64.html" title="diem_secure_storage::to_base64 fn">to_base64</a></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="diem_secure_storage" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.0 (fc594f156 2023-01-24)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>